{% extends "base.html" %}

{% block main %}
<div class="row">
	<div class="col-md-12">
		<h1>Party</h1>
		<small>Search the speech database by speaker</small>
	</div>
</div>
<br clear="all">
<div class="row">
	<div class="col-md-3">
		<input class="form-control" type="text" placeholder="Enter speaker surname" value="{{speaker}}" id="speaker"/>
		<small>Try rubio, shinkman, murray, brown</small>
	</div>
	<div class="col-md-3">
		<select class="form-control" id="year">
			<option value="">All committees</option>
			{% for committee in committees %}
			<option value="{{committee}}" {% if selected_committee == committee %}selected{%endif%}>{{committee.committee_name}}</option>
			{% endfor %}
		</select>
		<small></small>
	</div>
	<div class="col-md-2">
		<input type="text" id="district" class="form-control" placeholder="Enter a district"/>
		<small></small>
	</div>
	<div class="col-md-2">
		<select class="form-control" id="year">
			<option value="">All parties</option>
			{% for party in parties %}
			<option value="{{year}}" {% if selected_year == year %}selected{%endif%}>{{year}}</option>
			{% endfor %}
		</select>
		<small></small>
	</div>
	<div class="col-md-2">
		<button style="width:100%;" class="btn btn-primary" id="filter-btn"><b>Filter</b></button>
	</div>
</div>

<br>
<div class="row">
	<div class="col-md-12 text-right">
		<b>{{no_of_records}} speeches</b>
	</div>
</div>
<div class="row">
	<div class="col-md-12 text-center">
		<table class="table table-striped thead-dark">
			<thead class="text-center">
				<td>Hearing Title</td>
				<td>Date</td>
				<td>Speaker</td>
				<td>Speech</td>
			</thead>
			<tbody>
				{% if (records is defined) and records %}
					{% for record in records %}
						<tr>
							<td>{{record.title}}</td>
							<td>{{record.date}}</td>
							<td>{{record.name}}</td>
							<!-- This line shows just the first 100 characters and cuts it after that -->
							<td>{{record.text[0:100] + " ..."}}</td>
						</tr>
					{% endfor %}
				{% else %}
				<tr>
					<td colspan="4">No results</td>
				</tr>
				{% endif %}
			</tbody>
		</table>
		<hr>
		<p>Sneek peak of what you will download</p>
		<div class="row">
			<div class="col-md-4"></div>
			<div class="col-md-4">
				<button style="width:100%;" class="btn btn-default" id="download-btn"><b>Download</b></button>
			</div>
		</div>

	</div>
</div>
{% endblock %}